<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button id="btn">测试箭头函数this_1</button>
<button id="btn2">测试箭头函数this_2</button>
<!--
* 作用： 定义匿名函数
* 基本语法：
    * 没有参数： （） => console.log('xxx');
    * 一个参数： i => i + 2;
    * 大于一个参数： （i，j) => i+j;
    * 函数体不用大括号： 默认返回结果
    * 函数体如果有多个语句，需要用{}包围，若有需要返回的内容，需要手动返回
* 使用场景： 多用来定义回调函数

* 箭头函数的特点
    * 1.简洁
    * 2.箭头函数没有自己的this，箭头函数的this不是调用的时候决定的，是在定义的时候处在的对象就是它的this
    * 3.扩展理解： 箭头函数的this看外层是否有函数
        如果有，外层函数的this就是内部箭头函数的this
        如果没有，this就是window
-->
</body>
<script>
    let fun = function () {
        console.log('fun()');
    };
    fun();

    let fun1 = () => console.log('fun1()');
    fun1();
    console.log(fun1());
    // 一个形参
    let fun2 = x => x;
    console.log(fun2(2));
    // 2个或多个
    let fun3 = (x, y) => x + y;
    console.log(fun3(20,30));

    //函数体有多条语句
    let fun4 = (x,y) => {
        console.log(x,y);
        return x + y;
    };
    console.log(fun4(19,20));

    setTimeout(() => {
        console.log(this);
    },1000);

    let btn2 = document.getElementById('btn2');
    let btn1 = document.getElementById('btn');
    let obj = {
        name: 'yiwen',
        age:39,
        getName : function() {
            btn2.onclick = () => {
                console.log(this);
            }
        }
    };
    btn1.onclick = () => {
      console.log(this);
    };
    obj.getName();
</script>
</html>